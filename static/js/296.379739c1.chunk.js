"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[296],{296:(n,e,r)=>{r.r(e),r.d(e,{default:()=>u});var a=r(43),t=r(791),o=r(472),i=r(216),s=r(16),l=r(999),d=r(579);const c={container:{padding:"40px",backgroundColor:"#f1f5f9",minHeight:"100vh"},heading:{textAlign:"center",color:"#005f7f",fontSize:"32px",marginBottom:"20px"},card:{maxWidth:"700px",margin:"0 auto",backgroundColor:"#fff",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},profileImage:{width:"160px",height:"160px",objectFit:"cover",borderRadius:"50%",marginBottom:"20px",border:"3px solid #005f7f"},infoSection:{marginTop:"20px",textAlign:"left"},infoBox:{background:"#f9fafb",borderRadius:"10px",padding:"16px",marginBottom:"16px",border:"1px solid #e5e7eb",position:"relative"},infoHeader:{display:"flex",alignItems:"center",marginBottom:"8px",fontWeight:"600",fontSize:"16px"},icon:{marginRight:"10px",color:"#005f7f"},editIcon:{marginLeft:"auto",color:"#005f7f",cursor:"pointer"},label:{fontSize:"16px"},infoContent:{fontSize:"15px",color:"#374151"},input:{flex:1,padding:"10px",fontSize:"15px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},saveButton:{padding:"8px 12px",fontSize:"14px",borderRadius:"6px",backgroundColor:"#005f7f",color:"#fff",border:"none",cursor:"pointer"},logoutButton:{marginTop:"30px",padding:"10px 24px",backgroundColor:"#ff4d4d",color:"#fff",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},loading:{textAlign:"center",fontSize:"18px",color:"#005f7f",paddingTop:"40px"}},u=()=>{const[n,e]=(0,a.useState)(null),[r,u]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),{currentUser:x,logout:f}=(0,s.A)(),b=(0,i.Zp)(),m=x?(0,o.H9)(t.db,"user",x.uid):null;(0,a.useEffect)((()=>{(async()=>{try{if(x&&m){const n=await(0,o.x7)(m);n.exists()&&e(n.data())}}catch(n){console.error("Error fetching user data:",n)}})()}),[x,m]);const h=n=>{g(n.target.value)},v=async()=>{try{const n={[r]:p};await(0,o.mZ)(m,n),e((e=>({...e,...n}))),u(null)}catch(n){console.error("Error updating field:",n)}};if(!n)return(0,d.jsx)("p",{style:c.loading,children:"Loading..."});const y=(e,a,t)=>(0,d.jsxs)("div",{style:c.infoBox,children:[(0,d.jsxs)("div",{style:c.infoHeader,children:[(0,d.jsx)("i",{className:`fas ${t}`,style:c.icon}),(0,d.jsx)("span",{style:c.label,children:e}),(0,d.jsx)("i",{className:"fas fa-pen edit-icon",style:c.editIcon,onClick:()=>{return u(e=a),void g(n[e]||"");var e}})]}),r===a?(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,d.jsx)("input",{type:"text",name:a,value:p,onChange:h,style:c.input}),(0,d.jsx)("button",{onClick:v,style:c.saveButton,children:"Save"})]}):(0,d.jsx)("div",{style:c.infoContent,children:n[a]||"N/A"})]});return(0,d.jsxs)("div",{children:[(0,d.jsx)(l.A,{})," ",(0,d.jsxs)("div",{style:c.container,children:[(0,d.jsx)("h1",{style:c.heading,children:"My Profile"}),(0,d.jsxs)("div",{style:c.card,children:[(0,d.jsx)("img",{src:n.profilePicture||"/images/default-profile.jpg",alt:"Profile",style:c.profileImage}),(0,d.jsxs)("div",{style:c.infoSection,children:[y("Full Name","fullName","fa-user"),y("Email","email","fa-envelope"),y("Phone Number","phone","fa-phone"),y("Profile Picture URL","profilePicture","fa-image")]}),(0,d.jsx)("button",{onClick:async()=>{try{await f(),b("/login")}catch(n){console.error("Error logging out:",n)}},style:c.logoutButton,children:"Logout"})]})]})]})}},999:(n,e,r)=>{r.d(e,{A:()=>u});var a=r(43),t=r(184),o=r(216),i=r(791),s=r(472),l=r(729),d=r(579);const c=["Photography","Food","Music","Catering","Venue","Return Gift","Travel","DJ","Cakes & Bakery","Decoration","Orchestra","Wedding","Beautician","Other"],u=()=>{const[n,e]=(0,a.useState)(""),[r,u]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[b,m]=(0,a.useState)(!1),[h,v]=(0,a.useState)([]);(0,a.useEffect)((()=>{b&&0===h.length&&(v([{sender:"claura",text:"Hi, welcome this is ms.Claura your ai assistant. Say hi to begin"}]),w("initial"))}),[b]);const[y,j]=(0,a.useState)(""),[k,w]=(0,a.useState)("initial"),[N,S]=(0,a.useState)(""),[C,z]=(0,a.useState)([]),[P,B]=(0,a.useState)(""),A=(0,a.useRef)(null),I=(0,o.Zp)(),R=(0,l.xI)().currentUser;(0,a.useEffect)((()=>{A.current&&A.current.scrollIntoView({behavior:"smooth"})}),[h]);const E=(n,e)=>{v((r=>[...r,{sender:n,text:e}]))},T=async(n,e)=>{g(!0);try{let r;r=e.length>0?(0,s.P)((0,s.rJ)(i.db,"postorder"),(0,s._M)("eventname","in",e)):(0,s.P)((0,s.rJ)(i.db,"postorder"));let a=(await(0,s.GG)(r)).docs.map((n=>({id:n.id,...n.data()})));a=a.filter((e=>e.minprice<=Number(n))),0===a.length?E("claura","No companies found under your budget and selected categories."):(E("claura","Here are the companies under your budget:"),a.forEach((n=>{E("claura",`${n.businessname} - Minimum Price: ${n.minprice}`)})))}catch(r){console.error("Error fetching companies:",r),E("claura","Sorry, there was an error fetching companies.")}finally{g(!1)}},$=n=>{if(!R)return I("/login"),void f(!1);I(n),f(!1)};return(0,d.jsxs)("nav",{className:"navbar",children:[(0,d.jsxs)("div",{className:"navbar-main",children:[(0,d.jsx)("div",{className:"nav-left",children:(0,d.jsx)("div",{className:"navbar-logo",onClick:()=>I("/home"),children:"Planora"})}),(0,d.jsx)("div",{className:"nav-center",children:(0,d.jsxs)("div",{className:"navbar-search",children:[(0,d.jsx)(t.KSO,{className:"search-icon"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",value:n,onChange:async n=>{const r=n.target.value;if(e(r),r){g(!0);try{const n=(0,s.P)((0,s.rJ)(i.db,"postorder"),(0,s._M)("businessname",">=",r),(0,s._M)("businessname","<=",r+"\uf8ff")),e=await(0,s.GG)(n);u(e.docs.map((n=>({id:n.id,...n.data()}))))}catch(a){console.error("Error fetching companies:",a)}finally{g(!1)}}else u([])}}),n&&(0,d.jsx)("div",{className:"search-results",children:p?(0,d.jsx)("div",{className:"loading",children:"Loading..."}):r.length?r.map((n=>(0,d.jsx)("div",{className:"result-item",onClick:()=>(n=>{if(!R)return I("/login"),void f(!1);I(`/company/${n.id}`),e(""),u([]),f(!1)})(n),children:n.businessname},n.id))):(0,d.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,d.jsx)("div",{className:"nav-right",children:(0,d.jsxs)("ul",{className:"nav-links "+(x?"active":""),children:[(0,d.jsx)("li",{onClick:()=>$("/home"),children:"Home"}),(0,d.jsx)("li",{onClick:()=>$("/orders"),children:"Orders"}),(0,d.jsx)("li",{onClick:()=>$("/post-order"),children:"Post Order"}),(0,d.jsxs)("li",{onClick:()=>{m((n=>!n)),b||(v([]),w("initial"),S(""),z([]),B(""),j(""))},children:[(0,d.jsx)(t.y8Q,{})," AI"]}),(0,d.jsxs)("li",{onClick:()=>$("/profile"),children:[(0,d.jsx)(t.x$1,{})," Profile"]}),(0,d.jsxs)("li",{onClick:()=>$("/messages"),children:[(0,d.jsx)(t.maD,{})," Messages"]}),(0,d.jsxs)("li",{onClick:()=>$("/cart"),children:[(0,d.jsx)(t.AsH,{})," Cart"]})]})}),(0,d.jsx)("div",{className:"hamburger",onClick:()=>f((n=>!n)),children:x?(0,d.jsx)(t.QCr,{}):(0,d.jsx)(t.OXb,{})})]}),b&&(0,d.jsxs)("div",{className:"ai-chat-box",children:[(0,d.jsxs)("div",{className:"chat-messages",children:[h.map(((n,e)=>(0,d.jsx)("div",{className:"chat-message "+("claura"===n.sender?"claura":"user"),children:n.text},e))),(0,d.jsx)("div",{ref:A})]}),"categories"===k?(0,d.jsxs)("div",{className:"categories-buttons",children:[c.map((n=>(0,d.jsx)("button",{className:C.includes(n)?"category-btn selected":"category-btn",onClick:()=>(n=>{let e;e=C.includes(n)?C.filter((e=>e!==n)):[...C,n],z(e)})(n),children:n},n))),(0,d.jsx)("button",{className:"confirm-btn",onClick:()=>{0!==C.length?(E("user",`Selected categories: ${C.join(", ")}`),E("claura","What is your budget? Please enter a number."),w("budget")):E("claura","Please select at least one category.")},children:"Confirm"})]}):(0,d.jsx)(d.Fragment,{children:"budget"===k?(0,d.jsxs)("div",{className:"budget-slider-container",children:[(0,d.jsx)("input",{type:"range",min:"500",max:"1000000",step:"100",value:P||500,onChange:n=>B(Number(n.target.value))}),(0,d.jsx)("input",{type:"number",min:"500",max:"1000000",step:"100",value:P||500,onChange:n=>{let e=Number(n.target.value);e<500?e=500:e>1e6&&(e=1e6),B(e)},style:{marginTop:"10px",padding:"5px",borderRadius:"5px",border:"none",fontSize:"1rem"}}),(0,d.jsxs)("div",{className:"budget-value",children:["Selected Budget: ",P||500]}),(0,d.jsx)("button",{className:"confirm-btn",onClick:()=>{!P||isNaN(Number(P))||Number(P)<500?E("claura","Please select a budget between 500 and 1,000,000."):(E("user",`Selected budget: ${P}`),E("claura",`Great! Searching companies under budget ${P}...`),w("results"),T(P,C))},children:"Confirm"})]}):(0,d.jsxs)("form",{className:"chat-input-form",onSubmit:async n=>{n.preventDefault();const e=y.trim();var r;if(e)if(E("user",e),j(""),"initial"!==k){if("eventName"===k)S(e),await(r=3e3,new Promise((n=>setTimeout(n,r)))),E("claura",`Thanks! Your event name is "${e}". What categories do you need? Please select from below.`),w("categories");else if("budget"===k){if(isNaN(Number(e))||Number(e)<=0)return void E("claura","Please enter a valid positive number for budget.");B(e),E("claura",`Great! Searching companies under budget ${e}...`),w("results"),await T(e,C)}}else e.toLowerCase().startsWith("hi")?setTimeout((()=>{E("claura","What is your event name?"),w("eventName")}),1e3):E("claura",'Please say "hi" to continue.')},children:[(0,d.jsx)("input",{type:"text",placeholder:"Type your message...",value:y,onChange:n=>{j(n.target.value)},autoFocus:!0,disabled:"categories"===k||"results"===k}),(0,d.jsx)("button",{type:"submit",disabled:"categories"===k||"results"===k,children:"Send"})]})})]}),(0,d.jsx)("style",{children:'\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.65rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.9rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.2rem;\n          white-space: nowrap;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        .ai-chat-box {\n          position: absolute;\n          top: 60px;\n          right: 10px;\n          width: 400px;\n          max-height: 600px;\n          background: #ffffff; /* Changed to white background */\n          color: #333333; /* Dark text for contrast */\n          border-radius: 12px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          z-index: 1100;\n          font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        .chat-messages {\n          flex: 1;\n          padding: 1rem;\n          overflow-y: auto;\n          background: #ffffff; /* white background for chat messages */\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .chat-message {\n          max-width: 80%;\n          padding: 12px 20px;\n          border-radius: 20px;\n          font-size: 1rem;\n          line-height: 1.4;\n          word-wrap: break-word;\n          white-space: pre-wrap;\n        }\n\n        .chat-message.claura {\n          background: #0078d7; /* bright blue for AI messages */\n          color: #fff;\n          align-self: flex-start;\n          border-bottom-left-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.2);\n        }\n\n        .chat-message.user {\n          background: #e1e1e1; /* light gray for user messages */\n          color: #333333;\n          align-self: flex-end;\n          border-bottom-right-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n\n        .chat-input-form {\n          display: flex;\n          padding: 10px;\n          background: #f5f5f5; /* light background for input area */\n          border-top: 1px solid #ddd;\n        }\n\n        .chat-input-form input {\n          flex: 1;\n          border: none;\n          border-radius: 10px;\n          padding: 10px 15px;\n          font-size: 1rem;\n          background: #fff;\n          color: #333;\n          outline: none;\n        }\n\n        .chat-input-form input::placeholder {\n          color: #999;\n        }\n\n        .chat-input-form button {\n          background: #0078d7;\n          border: none;\n          color: white;\n          padding: 0 20px;\n          margin-left: 10px;\n          border-radius: 10px;\n          cursor: pointer;\n          font-size: 1rem;\n          transition: background 0.3s;\n        }\n\n        .chat-input-form button:hover {\n          background: #005a99;\n        }\n\n        .categories-buttons {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n        }\n\n        .category-btn {\n          background: #303136;\n          color: #fff;\n          border: none;\n          padding: 8px 12px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: background 0.3s;\n        }\n\n        .category-btn.selected {\n          background: #10a37f;\n        }\n\n        .category-btn:hover {\n          background: #50535a;\n        }\n\n        .confirm-btn {\n          background: #10a37f;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          margin-left: auto;\n          transition: background 0.3s;\n        }\n\n        .confirm-btn:hover {\n          background: #0e8e6e;\n        }\n\n        @media (max-width: 768px) {\n          .ai-chat-box {\n            width: 90%;\n            right: 5%;\n            bottom: 10px;\n            max-height: 400px;\n          }\n        }\n        .budget-slider-container {\n          display: flex;\n          flex-direction: column;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n          gap: 10px;\n        }\n        .budget-slider-container input[type="range"] {\n          width: 100%;\n          -webkit-appearance: none;\n          height: 8px;\n          border-radius: 5px;\n          background: #303136;\n          outline: none;\n          cursor: pointer;\n        }\n        .budget-slider-container input[type="range"]::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n          margin-top: -6px;\n        }\n        .budget-slider-container input[type="range"]::-moz-range-thumb {\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n        }\n        .budget-value {\n          color: #fff;\n          font-size: 1rem;\n          text-align: center;\n        }\n      '})]})}}}]);
//# sourceMappingURL=296.379739c1.chunk.js.map