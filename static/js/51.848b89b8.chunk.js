"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[51],{51:(e,n,i)=>{i.r(n),i.d(n,{default:()=>x});var t=i(43),a=i(216),o=i(472),r=i(791),l=i(999),d=i(16),s=i(579);const c=e=>{let{icon:n,label:i,value:t}=e;return(0,s.jsxs)("div",{style:p.infoBox,children:[(0,s.jsxs)("div",{style:p.infoHeader,children:[(0,s.jsx)("i",{className:`fas ${n}`,style:p.icon}),(0,s.jsx)("span",{style:p.infoLabel,children:i})]}),(0,s.jsx)("div",{style:p.infoContent,children:t||"N/A"})]})},p={card:{backgroundColor:"#fff",maxWidth:"1000px",margin:"30px auto",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},header:{display:"flex",flexDirection:"row",gap:"30px",alignItems:"center",marginBottom:"30px"},companyName:{fontSize:"30px",fontWeight:"700",color:"#005f7f"},category:{fontSize:"18px",color:"#555"},priceContainer:{marginTop:"8px",display:"flex",alignItems:"center",gap:"12px"},priceCard:{backgroundColor:"#fff",borderRadius:"10px",padding:"16px",marginTop:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"320px"},priceCardTitle:{margin:"0 0 12px 0",fontSize:"20px",fontWeight:"700",color:"#005f7f"},discountText:{color:"#e60000",fontWeight:"700",fontSize:"20px"},priceValue:{display:"flex",alignItems:"center",gap:"8px"},discountedPrice:{fontWeight:"700",fontSize:"18px",color:"#000"},originalPrice:{fontSize:"14px",color:"#555",textDecoration:"line-through"},mainImage:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"12px"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px",marginBottom:"30px"},infoBox:{background:"#f9fafb",borderRadius:"10px",padding:"16px",border:"1px solid #e5e7eb"},infoHeader:{display:"flex",alignItems:"center",marginBottom:"10px",fontWeight:"600",fontSize:"16px"},icon:{marginRight:"10px",color:"#005f7f"},infoLabel:{fontSize:"16px"},infoContent:{fontSize:"15px",color:"#374151"},menuContainer:{marginTop:"20px"},subheading:{fontSize:"22px",fontWeight:"600",marginBottom:"16px",color:"#005f7f",textAlign:"center"},menuGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"16px"},menuImageWrapper:{overflow:"hidden",borderRadius:"8px"},menuImage:{width:"100%",height:"auto",borderRadius:"8px",cursor:"pointer"},chatButtonWrapper:{display:"flex",justifyContent:"center",marginTop:"30px"},chatButton:{padding:"12px 24px",backgroundColor:"#005f7f",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},chatModal:{position:"fixed",bottom:"20px",right:"20px",width:"320px",backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",zIndex:2e3},chatHeader:{padding:"12px 16px",backgroundColor:"#005f7f",color:"#fff",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"600"},closeBtn:{background:"none",border:"none",color:"#fff",fontSize:"20px",cursor:"pointer"},chatBody:{padding:"10px",maxHeight:"300px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},messageBubble:{maxWidth:"75%",padding:"10px 14px",borderRadius:"16px",fontSize:"14px"},chatInputArea:{display:"flex",borderTop:"1px solid #ccc"},chatInput:{flex:1,padding:"10px",border:"none",fontSize:"14px",outline:"none"},sendBtn:{padding:"10px 16px",backgroundColor:"#005f7f",color:"#fff",border:"none",cursor:"pointer",fontSize:"14px"},modalOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalImage:{maxWidth:"90%",maxHeight:"90%",borderRadius:"8px"},orderModal:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",width:"90%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"stretch"},modalInput:{marginBottom:"12px",padding:"10px",fontSize:"15px",borderRadius:"6px",border:"1px solid #ccc",outline:"none"},loading:{color:"#005f7f",textAlign:"center",padding:"40px",fontSize:"18px"}},x=()=>{const{id:e}=(0,a.g)(),n=(0,a.Zp)(),{currentUser:i}=(0,d.A)(),[x,u]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),[v,j]=(0,t.useState)([]),[C,S]=(0,t.useState)(!1),[I,k]=(0,t.useState)(!1),[w,B]=(0,t.useState)(""),[z,R]=(0,t.useState)(""),[W,T]=(0,t.useState)(""),[M,P]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{const n=(0,o.H9)(r.db,"postorder",e),i=await(0,o.x7)(n);i.exists()&&u({id:i.id,...i.data()})})()}),[e]);const L=async()=>{if(!i||null===x||void 0===x||!x.vendorid)return;S(!0);const e=(0,o.P)((0,o.rJ)(r.db,"webchat"),(0,o._M)("senderId","in",[i.uid,x.vendorid]),(0,o._M)("receiverId","in",[i.uid,x.vendorid])),n=(await(0,o.GG)(e)).docs.map((e=>({id:e.id,...e.data()})));n.sort(((e,n)=>{var i,t;return(null===(i=e.time)||void 0===i?void 0:i.seconds)-(null===(t=n.time)||void 0===t?void 0:t.seconds)})),j(n),S(!1)};if(!x)return(0,s.jsx)("p",{style:p.loading,children:"Loading..."});const H=[...new Set(x.menu||[])];return(0,s.jsxs)("div",{style:{background:"#f1f5f9",minHeight:"100vh",paddingBottom:"40px"},children:[(0,s.jsx)(l.A,{}),(0,s.jsxs)("div",{style:p.card,children:[(0,s.jsxs)("div",{style:p.header,children:[(0,s.jsx)("img",{src:x.image||"/images/default.jpg",alt:x.businessname,style:p.mainImage,onError:e=>e.target.style.display="none"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:p.companyName,children:x.businessname}),(0,s.jsxs)("p",{style:p.category,children:[(0,s.jsx)("strong",{children:"Category:"})," ",x.eventname]})]})]}),(0,s.jsxs)("div",{style:p.infoGrid,children:[(0,s.jsx)(c,{icon:"fa-user",label:"Owner",value:x.name}),(0,s.jsx)(c,{icon:"fa-map-marker-alt",label:"Location",value:x.location}),(0,s.jsx)(c,{icon:"fa-calendar-alt",label:"Posting Date",value:"27-APR-25"}),(0,s.jsx)(c,{icon:"fa-phone",label:"Mobile",value:x.mobilenumber}),(0,s.jsx)(c,{icon:"fa-clock",label:"Working Hours",value:x.hours}),(0,s.jsx)(c,{icon:"fa-briefcase",label:"Experience",value:`${x.exprience} years`}),x.minprice&&(0,s.jsx)(c,{icon:"fa-tag",label:"Price",value:(0,s.jsxs)("div",{style:p.priceValue,children:[(0,s.jsx)("span",{style:p.discountText,children:"M.R.P."}),(0,s.jsxs)("span",{style:p.originalPrice,children:["\u20b9",Math.round(1.1*x.minprice).toLocaleString()]}),(0,s.jsxs)("span",{style:p.discountedPrice,children:["\u20b9",x.minprice.toLocaleString()]})]})})]}),(0,s.jsxs)("div",{style:p.infoBox,children:[(0,s.jsxs)("div",{style:p.infoHeader,children:[(0,s.jsx)("i",{className:"fas fa-align-left",style:p.icon}),(0,s.jsx)("span",{style:p.infoLabel,children:"Description"})]}),(0,s.jsx)("div",{style:p.infoContent,children:(0,s.jsx)("p",{children:x.description})})]}),H.length>0&&(0,s.jsxs)("div",{style:p.menuContainer,children:[(0,s.jsx)("h2",{style:p.subheading,children:"Menu Gallery"}),(0,s.jsx)("div",{style:p.menuGrid,children:H.map(((e,n)=>(0,s.jsx)("div",{style:p.menuImageWrapper,children:(0,s.jsx)("img",{src:e,alt:`Menu ${n+1}`,style:p.menuImage,onClick:()=>g(e),onError:e=>e.target.style.display="none"})},n)))})]}),(0,s.jsxs)("div",{style:p.chatButtonWrapper,children:[(0,s.jsx)("button",{style:p.chatButton,onClick:()=>{i?(h(!0),L()):n("/login")},children:"Chat with Vendor"}),(0,s.jsx)("button",{style:{...p.chatButton,backgroundColor:"#10b981",marginLeft:"10px"},onClick:()=>{i?k(!0):n("/login")},children:"Place an Order"})]})]}),m&&(0,s.jsxs)("div",{style:p.chatModal,children:[(0,s.jsxs)("div",{style:p.chatHeader,children:[(0,s.jsxs)("span",{children:["Chat with ",x.businessname]}),(0,s.jsx)("button",{style:p.closeBtn,onClick:()=>h(!1),children:"\xd7"})]}),(0,s.jsx)("div",{style:p.chatBody,children:C?(0,s.jsx)("p",{children:"Loading messages\u2026"}):v.map((e=>(0,s.jsx)("div",{style:{...p.messageBubble,alignSelf:e.senderId===i.uid?"flex-end":"flex-start",backgroundColor:e.senderId===i.uid?"#005f7f":"#e4e6eb",color:e.senderId===i.uid?"#fff":"#000"},children:e.message},e.id)))}),(0,s.jsxs)("div",{style:p.chatInputArea,children:[(0,s.jsx)("input",{style:p.chatInput,value:b,onChange:e=>y(e.target.value),placeholder:"Type a message\u2026"}),(0,s.jsx)("button",{style:p.sendBtn,onClick:async()=>{if(!b.trim()||!i||null===x||void 0===x||!x.vendorid)return;const e={senderId:i.uid,senderName:i.displayName||"Anonymous",receiverId:x.vendorid,receiverName:x.businessname,message:b.trim(),time:(0,o.O5)(),isRead:!1};await(0,o.gS)((0,o.rJ)(r.db,"webchat"),e),y(""),L()},children:"Send"})]})]}),f&&(0,s.jsx)("div",{style:p.modalOverlay,onClick:()=>g(null),children:(0,s.jsx)("img",{src:f,alt:"Menu",style:p.modalImage})}),I&&(0,s.jsx)("div",{style:p.modalOverlay,children:(0,s.jsxs)("div",{style:p.orderModal,children:[(0,s.jsx)("h2",{style:{marginBottom:"16px",color:"#005f7f"},children:"Place Your Order"}),(0,s.jsx)("input",{style:p.modalInput,placeholder:"Your Name",value:w,onChange:e=>B(e.target.value)}),(0,s.jsx)("input",{style:p.modalInput,placeholder:"Mobile Number",value:z,onChange:e=>R(e.target.value)}),(0,s.jsx)("input",{style:p.modalInput,type:"date",value:W,onChange:e=>T(e.target.value)}),(0,s.jsx)("input",{style:p.modalInput,placeholder:"Event Location",value:M,onChange:e=>P(e.target.value)}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"16px"},children:[(0,s.jsx)("button",{style:p.sendBtn,onClick:async()=>{if(!w||!z||!W||!M||!i)return void alert("Please fill all fields.");const e={name:w,mobilenumber:z,placelocation:M,dateofevent:W,status:"pending",userid:i.uid,vendorid:x.vendorid,businessname:x.businessname,eventname:x.eventname,image:x.image,location:x.location,docid:x.id};await(0,o.gS)((0,o.rJ)(r.db,"placeorder"),e),alert("Order placed successfully!"),k(!1),B(""),R(""),T(""),P("")},children:"Submit"}),(0,s.jsx)("button",{style:p.chatButton,onClick:()=>k(!1),children:"Cancel"})]})]})})]})}}}]);
//# sourceMappingURL=51.848b89b8.chunk.js.map