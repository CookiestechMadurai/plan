"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[54],{54:(e,r,o)=>{o.r(r),o.d(r,{default:()=>l});var s=o(43),t=o(729),d=o(791),n=o(472),c=o(999),i=o(579);const a={container:{padding:"1rem",margin:"0 auto"},header:{fontSize:"1.8rem",marginBottom:"1rem",color:"#003f66"},ordersList:{display:"flex",flexDirection:"column",gap:"1rem"},orderCard:{padding:"1rem",backgroundColor:"#f1f1f1",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},buttonGroup:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},button:{padding:"0.5rem 1rem",border:"none",color:"#fff",borderRadius:"4px",cursor:"pointer"}},l=()=>{const[e,r]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),u=(0,t.xI)().currentUser,p=async(e,o)=>{try{const s=(0,n.H9)(d.db,"placeorder",e);await(0,n.mZ)(s,{status:o}),r((r=>r.map((r=>r.id===e?{...r,status:o}:r))))}catch(s){console.error(`Failed to update order status to ${o}:`,s)}};return(0,s.useEffect)((()=>{(async()=>{if(u){l(!0);try{const e=(0,n.P)((0,n.rJ)(d.db,"placeorder"),(0,n._M)("vendorid","==",u.uid)),o=(await(0,n.GG)(e)).docs.map((e=>({id:e.id,...e.data()})));console.log("Orders fetched:",o),0===o.length&&console.log("No orders found."),r(o)}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}}})()}),[u]),(0,i.jsxs)("div",{style:a.container,children:[(0,i.jsx)(c.A,{}),"  ",(0,i.jsx)("h2",{style:a.header,children:"Received Orders"}),o?(0,i.jsx)("p",{children:"Loading orders..."}):0===e.length?(0,i.jsx)("p",{children:"No orders received."}):(0,i.jsx)("div",{style:a.ordersList,children:e.map((e=>(0,i.jsxs)("div",{style:a.orderCard,children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Mobile Number:"})," ",e.mobilenumber]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Location:"})," ",e.location]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Date of Event:"})," ",e.dateofevent]})," ",(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Status:"})," ",e.status||"Pending"]}),(0,i.jsxs)("div",{style:a.buttonGroup,children:[(0,i.jsx)("button",{style:{...a.button,backgroundColor:"#4caf50"},onClick:()=>p(e.id,"Accepted"),disabled:"Accepted"===e.status,children:"Accept"}),(0,i.jsx)("button",{style:{...a.button,backgroundColor:"#f44336"},onClick:()=>p(e.id,"Rejected"),disabled:"Rejected"===e.status,children:"Reject"})]})]},e.id)))})]})}}}]);
//# sourceMappingURL=54.1fb46e38.chunk.js.map