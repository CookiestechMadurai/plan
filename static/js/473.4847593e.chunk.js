"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[473],{473:(e,n,r)=>{r.r(n),r.d(n,{default:()=>g});var a=r(43),t=r(791),i=r(472),s=r(729),o=r(147),l=r(216),d=r(999),c=r(579);const u=["Photography","Food","Music","Catering","Venue","Return Gift","Travel","DJ","Cakes & Bakery","Decoration","Orchestra","Wedding","Beautician","Other"],p={pageWrapper:{backgroundColor:"#003f66",minHeight:"100vh",paddingBottom:"40px"},card:{maxWidth:"800px",margin:"40px auto",backgroundColor:"#ffffff",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"#003f66"},title:{textAlign:"center",marginBottom:"24px",fontSize:"28px",fontWeight:"700"},form:{display:"flex",flexDirection:"column",gap:"16px"},row:{display:"flex",gap:"16px",flexWrap:"wrap"},input:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px"},select:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px",backgroundColor:"#f9f9f9"},textarea:{padding:"12px",borderRadius:"6px",border:"1px solid #ccc",resize:"vertical",minHeight:"100px",fontSize:"16px"},fileLabel:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#555"},fileInput:{marginTop:"8px"},previewContainer:{position:"relative",display:"inline-block",marginTop:"10px"},imagePreview:{width:"150px",height:"auto",borderRadius:"8px",objectFit:"cover"},removeButton:{position:"absolute",top:"0",right:"0",backgroundColor:"rgba(121,112,112,0.7)",color:"#fff",borderRadius:"50%",width:"20px",height:"20px",textAlign:"center",lineHeight:"20px",cursor:"pointer"},menuImagePreviewContainer:{display:"flex",gap:"10px",marginTop:"10px",flexWrap:"wrap"},submitButton:{marginTop:"16px",padding:"14px",backgroundColor:"#003f66",color:"#ffffff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s"}},g=()=>{const[e,n]=(0,a.useState)(""),[r,g]=(0,a.useState)(""),[x,m]=(0,a.useState)(u[0]),[h,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[N,P]=(0,a.useState)(""),[z,R]=(0,a.useState)(""),[$,q]=(0,a.useState)(""),[D,I]=(0,a.useState)(null),[M,W]=(0,a.useState)([]),[B,T]=(0,a.useState)(null),[G,L]=(0,a.useState)([]),[O,A]=(0,a.useState)(!1),H=(0,l.Zp)(),E=(0,s.xI)().currentUser;return(0,c.jsxs)("div",{style:p.pageWrapper,children:[(0,c.jsx)(d.A,{}),(0,c.jsxs)("div",{style:p.card,children:[(0,c.jsx)("h1",{style:p.title,children:"Post Your Service"}),(0,c.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!D||!M.length)return alert("Please select a main image and at least one menu image.");A(!0);try{const n=(0,o.KR)(t.IG,`users/${E.uid}/${Date.now()}-${D.name}`);await(0,o.D)(n,D);const a=await(0,o.qk)(n),s=await Promise.all(M.map((async e=>{const n=(0,o.KR)(t.IG,`users/${E.uid}/${Date.now()}-${e.name}`);return await(0,o.D)(n,e),(0,o.qk)(n)})));await(0,i.gS)((0,i.rJ)(t.db,"postorder"),{businessname:e,description:r,eventname:x,experience:h,from:b,hours:y,image:a,location:w,menu:s,mobilenumber:C,name:N,vendorid:E.uid,minprice:z,maxprice:$}),alert("Service posted successfully!"),H("/home")}catch(a){console.error(a),alert("Error posting service. Please try again.")}finally{A(!1)}},style:p.form,children:[(0,c.jsxs)("div",{style:p.row,children:[(0,c.jsx)("input",{style:p.input,type:"text",placeholder:"Business Name",value:e,onChange:e=>n(e.target.value),required:!0}),(0,c.jsx)("select",{style:p.select,value:x,onChange:e=>m(e.target.value),required:!0,children:u.map((e=>(0,c.jsx)("option",{value:e,children:e},e)))})]}),(0,c.jsx)("textarea",{style:p.textarea,placeholder:"Description",value:r,onChange:e=>g(e.target.value),required:!0}),(0,c.jsxs)("div",{style:p.row,children:[(0,c.jsx)("input",{style:p.input,type:"number",placeholder:"Experience (years)",value:h,onChange:e=>f(e.target.value),required:!0}),(0,c.jsx)("input",{style:p.input,type:"text",placeholder:"Location",value:w,onChange:e=>k(e.target.value),required:!0})]}),(0,c.jsxs)("div",{style:p.row,children:[(0,c.jsx)("input",{style:p.input,type:"text",placeholder:"Working Hours",value:y,onChange:e=>j(e.target.value),required:!0}),(0,c.jsx)("input",{style:p.input,type:"date",value:b,onChange:e=>v(e.target.value),required:!0})]}),(0,c.jsxs)("div",{style:p.row,children:[(0,c.jsx)("input",{style:p.input,type:"tel",placeholder:"Mobile Number",value:C,onChange:e=>S(e.target.value),required:!0}),(0,c.jsx)("input",{style:p.input,type:"text",placeholder:"Your Name",value:N,onChange:e=>P(e.target.value),required:!0})]}),(0,c.jsxs)("div",{style:p.row,children:[(0,c.jsx)("input",{style:p.input,type:"number",placeholder:"Minimum Price",value:z,onChange:e=>R(e.target.value),required:!0}),(0,c.jsx)("input",{style:p.input,type:"number",placeholder:"Maximum Price",value:$,onChange:e=>q(e.target.value),required:!0})]}),(0,c.jsxs)("label",{style:p.fileLabel,children:["Main Image *",(0,c.jsx)("input",{style:p.fileInput,type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0];n&&(I(n),T(URL.createObjectURL(n)))},required:!0}),B&&(0,c.jsxs)("div",{style:p.previewContainer,children:[(0,c.jsx)("img",{src:B,alt:"Main Preview",style:p.imagePreview}),(0,c.jsx)("span",{onClick:()=>{I(null),T(null)},style:p.removeButton,children:"\xd7"})]})]}),(0,c.jsxs)("label",{style:p.fileLabel,children:["Menu Images * (multiple)",(0,c.jsx)("input",{style:p.fileInput,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const n=Array.from(e.target.files);n.length&&(W(n),L(n.map((e=>URL.createObjectURL(e)))))},required:!0}),(0,c.jsx)("div",{style:p.menuImagePreviewContainer,children:G.map(((e,n)=>(0,c.jsxs)("div",{style:p.previewContainer,children:[(0,c.jsx)("img",{src:e,alt:`Menu Preview ${n+1}`,style:p.imagePreview}),(0,c.jsx)("span",{onClick:()=>(e=>{const n=[...M];n.splice(e,1),W(n);const r=[...G];r.splice(e,1),L(r)})(n),style:p.removeButton,children:"\xd7"})]},n)))})]}),(0,c.jsx)("button",{style:p.submitButton,disabled:O,children:O?"Posting\u2026":"Post Service"})]})]})]})}},999:(e,n,r)=>{r.d(n,{A:()=>u});var a=r(43),t=r(184),i=r(216),s=r(791),o=r(472),l=r(729),d=r(579);const c=["Photography","Food","Music","Catering","Venue","Return Gift","Travel","DJ","Cakes & Bakery","Decoration","Orchestra","Wedding","Beautician","Other"],u=()=>{const[e,n]=(0,a.useState)(""),[r,u]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),[x,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)([]);(0,a.useEffect)((()=>{h&&0===b.length&&(v([{sender:"claura",text:"Hi, welcome this is ms.Claura your ai assistant. Say hi to begin"}]),k("initial"))}),[h]);const[y,j]=(0,a.useState)(""),[w,k]=(0,a.useState)("initial"),[C,S]=(0,a.useState)(""),[N,P]=(0,a.useState)([]),[z,R]=(0,a.useState)(""),$=(0,a.useRef)(null),q=(0,i.Zp)(),D=(0,l.xI)().currentUser;(0,a.useEffect)((()=>{$.current&&$.current.scrollIntoView({behavior:"smooth"})}),[b]);const I=(e,n)=>{v((r=>[...r,{sender:e,text:n}]))},M=async(e,n)=>{g(!0);try{let r;r=n.length>0?(0,o.P)((0,o.rJ)(s.db,"postorder"),(0,o._M)("eventname","in",n)):(0,o.P)((0,o.rJ)(s.db,"postorder"));let a=(await(0,o.GG)(r)).docs.map((e=>({id:e.id,...e.data()})));a=a.filter((n=>n.minprice<=Number(e))),0===a.length?I("claura","No companies found under your budget and selected categories."):(I("claura","Here are the companies under your budget:"),a.forEach((e=>{I("claura",`${e.businessname} - Minimum Price: ${e.minprice}`)})))}catch(r){console.error("Error fetching companies:",r),I("claura","Sorry, there was an error fetching companies.")}finally{g(!1)}},W=e=>{if(!D)return q("/login"),void m(!1);q(e),m(!1)};return(0,d.jsxs)("nav",{className:"navbar",children:[(0,d.jsxs)("div",{className:"navbar-main",children:[(0,d.jsx)("div",{className:"nav-left",children:(0,d.jsx)("div",{className:"navbar-logo",onClick:()=>q("/home"),children:"Planora"})}),(0,d.jsx)("div",{className:"nav-center",children:(0,d.jsxs)("div",{className:"navbar-search",children:[(0,d.jsx)(t.KSO,{className:"search-icon"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",value:e,onChange:async e=>{const r=e.target.value;if(n(r),r){g(!0);try{const e=(0,o.P)((0,o.rJ)(s.db,"postorder"),(0,o._M)("businessname",">=",r),(0,o._M)("businessname","<=",r+"\uf8ff")),n=await(0,o.GG)(e);u(n.docs.map((e=>({id:e.id,...e.data()}))))}catch(a){console.error("Error fetching companies:",a)}finally{g(!1)}}else u([])}}),e&&(0,d.jsx)("div",{className:"search-results",children:p?(0,d.jsx)("div",{className:"loading",children:"Loading..."}):r.length?r.map((e=>(0,d.jsx)("div",{className:"result-item",onClick:()=>(e=>{if(!D)return q("/login"),void m(!1);q(`/company/${e.id}`),n(""),u([]),m(!1)})(e),children:e.businessname},e.id))):(0,d.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,d.jsx)("div",{className:"nav-right",children:(0,d.jsxs)("ul",{className:"nav-links "+(x?"active":""),children:[(0,d.jsx)("li",{onClick:()=>W("/home"),children:"Home"}),(0,d.jsx)("li",{onClick:()=>W("/orders"),children:"Orders"}),(0,d.jsx)("li",{onClick:()=>W("/post-order"),children:"Post Order"}),(0,d.jsxs)("li",{onClick:()=>{f((e=>!e)),h||(v([]),k("initial"),S(""),P([]),R(""),j(""))},children:[(0,d.jsx)(t.y8Q,{})," AI"]}),(0,d.jsxs)("li",{onClick:()=>W("/profile"),children:[(0,d.jsx)(t.x$1,{})," Profile"]}),(0,d.jsxs)("li",{onClick:()=>W("/messages"),children:[(0,d.jsx)(t.maD,{})," Messages"]}),(0,d.jsxs)("li",{onClick:()=>W("/cart"),children:[(0,d.jsx)(t.AsH,{})," Cart"]})]})}),(0,d.jsx)("div",{className:"hamburger",onClick:()=>m((e=>!e)),children:x?(0,d.jsx)(t.QCr,{}):(0,d.jsx)(t.OXb,{})})]}),h&&(0,d.jsxs)("div",{className:"ai-chat-box",children:[(0,d.jsxs)("div",{className:"chat-messages",children:[b.map(((e,n)=>(0,d.jsx)("div",{className:"chat-message "+("claura"===e.sender?"claura":"user"),children:e.text},n))),(0,d.jsx)("div",{ref:$})]}),"categories"===w?(0,d.jsxs)("div",{className:"categories-buttons",children:[c.map((e=>(0,d.jsx)("button",{className:N.includes(e)?"category-btn selected":"category-btn",onClick:()=>(e=>{let n;n=N.includes(e)?N.filter((n=>n!==e)):[...N,e],P(n)})(e),children:e},e))),(0,d.jsx)("button",{className:"confirm-btn",onClick:()=>{0!==N.length?(I("user",`Selected categories: ${N.join(", ")}`),I("claura","What is your budget? Please enter a number."),k("budget")):I("claura","Please select at least one category.")},children:"Confirm"})]}):(0,d.jsx)(d.Fragment,{children:"budget"===w?(0,d.jsxs)("div",{className:"budget-slider-container",children:[(0,d.jsx)("input",{type:"range",min:"500",max:"1000000",step:"100",value:z||500,onChange:e=>R(Number(e.target.value))}),(0,d.jsx)("input",{type:"number",min:"500",max:"1000000",step:"100",value:z||500,onChange:e=>{let n=Number(e.target.value);n<500?n=500:n>1e6&&(n=1e6),R(n)},style:{marginTop:"10px",padding:"5px",borderRadius:"5px",border:"none",fontSize:"1rem"}}),(0,d.jsxs)("div",{className:"budget-value",children:["Selected Budget: ",z||500]}),(0,d.jsx)("button",{className:"confirm-btn",onClick:()=>{!z||isNaN(Number(z))||Number(z)<500?I("claura","Please select a budget between 500 and 1,000,000."):(I("user",`Selected budget: ${z}`),I("claura",`Great! Searching companies under budget ${z}...`),k("results"),M(z,N))},children:"Confirm"})]}):(0,d.jsxs)("form",{className:"chat-input-form",onSubmit:async e=>{e.preventDefault();const n=y.trim();var r;if(n)if(I("user",n),j(""),"initial"!==w){if("eventName"===w)S(n),await(r=3e3,new Promise((e=>setTimeout(e,r)))),I("claura",`Thanks! Your event name is "${n}". What categories do you need? Please select from below.`),k("categories");else if("budget"===w){if(isNaN(Number(n))||Number(n)<=0)return void I("claura","Please enter a valid positive number for budget.");R(n),I("claura",`Great! Searching companies under budget ${n}...`),k("results"),await M(n,N)}}else n.toLowerCase().startsWith("hi")?setTimeout((()=>{I("claura","What is your event name?"),k("eventName")}),1e3):I("claura",'Please say "hi" to continue.')},children:[(0,d.jsx)("input",{type:"text",placeholder:"Type your message...",value:y,onChange:e=>{j(e.target.value)},autoFocus:!0,disabled:"categories"===w||"results"===w}),(0,d.jsx)("button",{type:"submit",disabled:"categories"===w||"results"===w,children:"Send"})]})})]}),(0,d.jsx)("style",{children:'\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.65rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.9rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.2rem;\n          white-space: nowrap;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        .ai-chat-box {\n          position: absolute;\n          top: 60px;\n          right: 10px;\n          width: 400px;\n          max-height: 600px;\n          background: #ffffff; /* Changed to white background */\n          color: #333333; /* Dark text for contrast */\n          border-radius: 12px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          z-index: 1100;\n          font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        .chat-messages {\n          flex: 1;\n          padding: 1rem;\n          overflow-y: auto;\n          background: #ffffff; /* white background for chat messages */\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .chat-message {\n          max-width: 80%;\n          padding: 12px 20px;\n          border-radius: 20px;\n          font-size: 1rem;\n          line-height: 1.4;\n          word-wrap: break-word;\n          white-space: pre-wrap;\n        }\n\n        .chat-message.claura {\n          background: #0078d7; /* bright blue for AI messages */\n          color: #fff;\n          align-self: flex-start;\n          border-bottom-left-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.2);\n        }\n\n        .chat-message.user {\n          background: #e1e1e1; /* light gray for user messages */\n          color: #333333;\n          align-self: flex-end;\n          border-bottom-right-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n\n        .chat-input-form {\n          display: flex;\n          padding: 10px;\n          background: #f5f5f5; /* light background for input area */\n          border-top: 1px solid #ddd;\n        }\n\n        .chat-input-form input {\n          flex: 1;\n          border: none;\n          border-radius: 10px;\n          padding: 10px 15px;\n          font-size: 1rem;\n          background: #fff;\n          color: #333;\n          outline: none;\n        }\n\n        .chat-input-form input::placeholder {\n          color: #999;\n        }\n\n        .chat-input-form button {\n          background: #0078d7;\n          border: none;\n          color: white;\n          padding: 0 20px;\n          margin-left: 10px;\n          border-radius: 10px;\n          cursor: pointer;\n          font-size: 1rem;\n          transition: background 0.3s;\n        }\n\n        .chat-input-form button:hover {\n          background: #005a99;\n        }\n\n        .categories-buttons {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n        }\n\n        .category-btn {\n          background: #303136;\n          color: #fff;\n          border: none;\n          padding: 8px 12px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: background 0.3s;\n        }\n\n        .category-btn.selected {\n          background: #10a37f;\n        }\n\n        .category-btn:hover {\n          background: #50535a;\n        }\n\n        .confirm-btn {\n          background: #10a37f;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          margin-left: auto;\n          transition: background 0.3s;\n        }\n\n        .confirm-btn:hover {\n          background: #0e8e6e;\n        }\n\n        @media (max-width: 768px) {\n          .ai-chat-box {\n            width: 90%;\n            right: 5%;\n            bottom: 10px;\n            max-height: 400px;\n          }\n        }\n        .budget-slider-container {\n          display: flex;\n          flex-direction: column;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n          gap: 10px;\n        }\n        .budget-slider-container input[type="range"] {\n          width: 100%;\n          -webkit-appearance: none;\n          height: 8px;\n          border-radius: 5px;\n          background: #303136;\n          outline: none;\n          cursor: pointer;\n        }\n        .budget-slider-container input[type="range"]::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n          margin-top: -6px;\n        }\n        .budget-slider-container input[type="range"]::-moz-range-thumb {\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n        }\n        .budget-value {\n          color: #fff;\n          font-size: 1rem;\n          text-align: center;\n        }\n      '})]})}}}]);
//# sourceMappingURL=473.4847593e.chunk.js.map