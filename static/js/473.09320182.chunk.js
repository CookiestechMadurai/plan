"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[473],{473:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(43),i=r(791),n=r(472),l=r(729),s=r(147),o=r(216),u=r(999),p=r(579);const d=["Photography","Food","Music","Catering","Venue","Return Gift","Travel","DJ","Cakes & Bakery","Decoration","Orchestra","Wedding","Beautician","Other"],c={pageWrapper:{backgroundColor:"#003f66",minHeight:"100vh",paddingBottom:"40px"},card:{maxWidth:"800px",margin:"40px auto",backgroundColor:"#ffffff",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"#003f66"},title:{textAlign:"center",marginBottom:"24px",fontSize:"28px",fontWeight:"700"},form:{display:"flex",flexDirection:"column",gap:"16px"},row:{display:"flex",gap:"16px",flexWrap:"wrap"},input:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px"},select:{flex:1,padding:"12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px",backgroundColor:"#f9f9f9"},textarea:{padding:"12px",borderRadius:"6px",border:"1px solid #ccc",resize:"vertical",minHeight:"100px",fontSize:"16px"},fileLabel:{display:"flex",flexDirection:"column",fontSize:"14px",color:"#555"},fileInput:{marginTop:"8px"},previewContainer:{position:"relative",display:"inline-block",marginTop:"10px"},imagePreview:{width:"150px",height:"auto",borderRadius:"8px",objectFit:"cover"},removeButton:{position:"absolute",top:"0",right:"0",backgroundColor:"rgba(121,112,112,0.7)",color:"#fff",borderRadius:"50%",width:"20px",height:"20px",textAlign:"center",lineHeight:"20px",cursor:"pointer"},menuImagePreviewContainer:{display:"flex",gap:"10px",marginTop:"10px",flexWrap:"wrap"},submitButton:{marginTop:"16px",padding:"14px",backgroundColor:"#003f66",color:"#ffffff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"background-color 0.2s"}},x=()=>{const[e,t]=(0,a.useState)(""),[r,x]=(0,a.useState)(""),[g,m]=(0,a.useState)(d[0]),[h,f]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[P,q]=(0,a.useState)(""),[R,B]=(0,a.useState)(""),[D,I]=(0,a.useState)(""),[W,L]=(0,a.useState)(null),[M,z]=(0,a.useState)([]),[$,T]=(0,a.useState)(null),[U,A]=(0,a.useState)([]),[H,O]=(0,a.useState)(!1),G=(0,o.Zp)(),N=(0,l.xI)().currentUser;return(0,p.jsxs)("div",{style:c.pageWrapper,children:[(0,p.jsx)(u.A,{}),(0,p.jsxs)("div",{style:c.card,children:[(0,p.jsx)("h1",{style:c.title,children:"Post Your Service"}),(0,p.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!W||!M.length)return alert("Please select a main image and at least one menu image.");O(!0);try{const t=(0,s.KR)(i.IG,`users/${N.uid}/${Date.now()}-${W.name}`);await(0,s.D)(t,W);const a=await(0,s.qk)(t),l=await Promise.all(M.map((async e=>{const t=(0,s.KR)(i.IG,`users/${N.uid}/${Date.now()}-${e.name}`);return await(0,s.D)(t,e),(0,s.qk)(t)})));await(0,n.gS)((0,n.rJ)(i.db,"postorder"),{businessname:e,description:r,eventname:g,experience:h,from:v,hours:b,image:a,location:w,menu:l,mobilenumber:S,name:P,vendorid:N.uid,minprice:R,maxprice:D}),alert("Service posted successfully!"),G("/home")}catch(a){console.error(a),alert("Error posting service. Please try again.")}finally{O(!1)}},style:c.form,children:[(0,p.jsxs)("div",{style:c.row,children:[(0,p.jsx)("input",{style:c.input,type:"text",placeholder:"Business Name",value:e,onChange:e=>t(e.target.value),required:!0}),(0,p.jsx)("select",{style:c.select,value:g,onChange:e=>m(e.target.value),required:!0,children:d.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))})]}),(0,p.jsx)("textarea",{style:c.textarea,placeholder:"Description",value:r,onChange:e=>x(e.target.value),required:!0}),(0,p.jsxs)("div",{style:c.row,children:[(0,p.jsx)("input",{style:c.input,type:"number",placeholder:"Experience (years)",value:h,onChange:e=>f(e.target.value),required:!0}),(0,p.jsx)("input",{style:c.input,type:"text",placeholder:"Location",value:w,onChange:e=>C(e.target.value),required:!0})]}),(0,p.jsxs)("div",{style:c.row,children:[(0,p.jsx)("input",{style:c.input,type:"text",placeholder:"Working Hours",value:b,onChange:e=>j(e.target.value),required:!0}),(0,p.jsx)("input",{style:c.input,type:"date",value:v,onChange:e=>y(e.target.value),required:!0})]}),(0,p.jsxs)("div",{style:c.row,children:[(0,p.jsx)("input",{style:c.input,type:"tel",placeholder:"Mobile Number",value:S,onChange:e=>k(e.target.value),required:!0}),(0,p.jsx)("input",{style:c.input,type:"text",placeholder:"Your Name",value:P,onChange:e=>q(e.target.value),required:!0})]}),(0,p.jsxs)("div",{style:c.row,children:[(0,p.jsx)("input",{style:c.input,type:"number",placeholder:"Minimum Price",value:R,onChange:e=>B(e.target.value),required:!0}),(0,p.jsx)("input",{style:c.input,type:"number",placeholder:"Maximum Price",value:D,onChange:e=>I(e.target.value),required:!0})]}),(0,p.jsxs)("label",{style:c.fileLabel,children:["Main Image *",(0,p.jsx)("input",{style:c.fileInput,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(L(t),T(URL.createObjectURL(t)))},required:!0}),$&&(0,p.jsxs)("div",{style:c.previewContainer,children:[(0,p.jsx)("img",{src:$,alt:"Main Preview",style:c.imagePreview}),(0,p.jsx)("span",{onClick:()=>{L(null),T(null)},style:c.removeButton,children:"\xd7"})]})]}),(0,p.jsxs)("label",{style:c.fileLabel,children:["Menu Images * (multiple)",(0,p.jsx)("input",{style:c.fileInput,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);t.length&&(z(t),A(t.map((e=>URL.createObjectURL(e)))))},required:!0}),(0,p.jsx)("div",{style:c.menuImagePreviewContainer,children:U.map(((e,t)=>(0,p.jsxs)("div",{style:c.previewContainer,children:[(0,p.jsx)("img",{src:e,alt:`Menu Preview ${t+1}`,style:c.imagePreview}),(0,p.jsx)("span",{onClick:()=>(e=>{const t=[...M];t.splice(e,1),z(t);const r=[...U];r.splice(e,1),A(r)})(t),style:c.removeButton,children:"\xd7"})]},t)))})]}),(0,p.jsx)("button",{style:c.submitButton,disabled:H,children:H?"Posting\u2026":"Post Service"})]})]})]})}}}]);
//# sourceMappingURL=473.09320182.chunk.js.map