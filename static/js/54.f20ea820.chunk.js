"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[54],{54:(n,e,r)=>{r.r(e),r.d(e,{default:()=>c});var s=r(43),a=r(729),i=r(791),o=r(472),t=r(999),d=r(579);const l={container:{padding:"1rem",margin:"0 auto"},header:{fontSize:"1.8rem",marginBottom:"1rem",color:"#003f66"},ordersList:{display:"flex",flexDirection:"column",gap:"1rem"},orderCard:{padding:"1rem",backgroundColor:"#f1f1f1",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},buttonGroup:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},button:{padding:"0.5rem 1rem",border:"none",color:"#fff",borderRadius:"4px",cursor:"pointer"}},c=()=>{const[n,e]=(0,s.useState)([]),[r,c]=(0,s.useState)(!0),x=(0,a.xI)().currentUser,h=async(n,r)=>{try{const s=(0,o.H9)(i.db,"placeorder",n);await(0,o.mZ)(s,{status:r}),e((e=>e.map((e=>e.id===n?{...e,status:r}:e))))}catch(s){console.error(`Failed to update order status to ${r}:`,s)}};return(0,s.useEffect)((()=>{(async()=>{if(x){c(!0);try{const n=(0,o.P)((0,o.rJ)(i.db,"placeorder"),(0,o._M)("vendorid","==",x.uid)),r=(await(0,o.GG)(n)).docs.map((n=>({id:n.id,...n.data()})));console.log("Orders fetched:",r),0===r.length&&console.log("No orders found."),e(r)}catch(n){console.error("Error fetching orders:",n)}finally{c(!1)}}})()}),[x]),(0,d.jsxs)("div",{style:l.container,children:[(0,d.jsx)(t.A,{}),"  ",(0,d.jsx)("h2",{style:l.header,children:"Received Orders"}),r?(0,d.jsx)("p",{children:"Loading orders..."}):0===n.length?(0,d.jsx)("p",{children:"No orders received."}):(0,d.jsx)("div",{style:l.ordersList,children:n.map((n=>(0,d.jsxs)("div",{style:l.orderCard,children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Name:"})," ",n.name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Mobile Number:"})," ",n.mobilenumber]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Location:"})," ",n.location]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Date of Event:"})," ",n.dateofevent]})," ",(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Status:"})," ",n.status||"Pending"]}),(0,d.jsxs)("div",{style:l.buttonGroup,children:[(0,d.jsx)("button",{style:{...l.button,backgroundColor:"#4caf50"},onClick:()=>h(n.id,"Accepted"),disabled:"Accepted"===n.status,children:"Accept"}),(0,d.jsx)("button",{style:{...l.button,backgroundColor:"#f44336"},onClick:()=>h(n.id,"Rejected"),disabled:"Rejected"===n.status,children:"Reject"})]})]},n.id)))})]})}},999:(n,e,r)=>{r.d(e,{A:()=>c});var s=r(43),a=r(184),i=r(216),o=r(791),t=r(472),d=r(729),l=r(579);const c=()=>{const[n,e]=(0,s.useState)(""),[r,c]=(0,s.useState)([]),[x,h]=(0,s.useState)(!1),[p,u]=(0,s.useState)(!1),m=(0,i.Zp)(),f=(0,d.xI)().currentUser;(0,s.useEffect)((()=>{(async()=>{if(f)try{const n=(0,t.P)((0,t.rJ)(o.db,"webchat"),(0,t._M)("receiverId","==",f.uid),(0,t.My)("time","desc"));await(0,t.GG)(n)}catch(n){console.error("Error fetching messages:",n)}})()}),[f]);return(0,l.jsxs)("nav",{className:"navbar",children:[(0,l.jsxs)("div",{className:"navbar-main",children:[(0,l.jsx)("div",{className:"nav-left",children:(0,l.jsx)("div",{className:"navbar-logo",onClick:()=>m("/home"),children:"PlanOra"})}),(0,l.jsx)("div",{className:"nav-center",children:(0,l.jsxs)("div",{className:"navbar-search",children:[(0,l.jsx)(a.KSO,{className:"search-icon"}),(0,l.jsx)("input",{type:"text",placeholder:"Search...",value:n,onChange:async n=>{const r=n.target.value;if(e(r),r){h(!0);try{const n=(0,t.P)((0,t.rJ)(o.db,"postorder"),(0,t._M)("businessname",">=",r),(0,t._M)("businessname","<=",r+"\uf8ff")),e=await(0,t.GG)(n);c(e.docs.map((n=>({id:n.id,...n.data()}))))}catch(s){console.error("Error fetching companies:",s)}finally{h(!1)}}else c([])}}),n&&(0,l.jsx)("div",{className:"search-results",children:x?(0,l.jsx)("div",{className:"loading",children:"Loading..."}):r.length?r.map((n=>(0,l.jsx)("div",{className:"result-item",onClick:()=>(m(`/company/${n.id}`),e(""),c([]),void u(!1)),children:n.businessname},n.id))):(0,l.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,l.jsx)("div",{className:"nav-right",children:(0,l.jsxs)("ul",{className:"nav-links "+(p?"active":""),children:[(0,l.jsx)("li",{onClick:()=>{m("/home"),u(!1)},children:"Home"}),(0,l.jsx)("li",{onClick:()=>{m("/orders"),u(!1)},children:"Orders"}),(0,l.jsx)("li",{onClick:()=>{m("/post-order"),u(!1)},children:"Post Order"}),(0,l.jsxs)("li",{onClick:()=>{m("/profile"),u(!1)},children:[(0,l.jsx)(a.x$1,{})," Profile"]}),(0,l.jsxs)("li",{onClick:()=>{m("/messages"),u(!1)},children:[(0,l.jsx)(a.maD,{})," Messages"]}),(0,l.jsxs)("li",{onClick:()=>{m("/cart"),u(!1)},children:[(0,l.jsx)(a.AsH,{})," Cart"]})]})}),(0,l.jsx)("div",{className:"hamburger",onClick:()=>u((n=>!n)),children:p?(0,l.jsx)(a.QCr,{}):(0,l.jsx)(a.OXb,{})})]}),(0,l.jsx)("style",{children:`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.75rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.3rem;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .nav-center {\n            order: 3;\n            width: 100%;\n            margin-top: 10px;\n          }\n\n          .nav-right {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .nav-links {\n            display: ${p?"flex":"none"};\n            flex-direction: column;\n            width: 100%;\n            margin-top: 1rem;\n          }\n\n          .hamburger {\n            display: block;\n          }\n        }\n      `})]})}}}]);
//# sourceMappingURL=54.f20ea820.chunk.js.map