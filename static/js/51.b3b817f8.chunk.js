"use strict";(self.webpackChunkplan=self.webpackChunkplan||[]).push([[51],{51:(e,n,a)=>{a.r(n),a.d(n,{default:()=>p});var i=a(43),r=a(216),t=a(472),s=a(791),o=a(729),l=a(999),d=a(579);const c=e=>{let{icon:n,label:a,value:i}=e;return(0,d.jsxs)("div",{style:x.infoBox,children:[(0,d.jsxs)("div",{style:x.infoHeader,children:[(0,d.jsx)("i",{className:`fas ${n}`,style:x.icon}),(0,d.jsx)("span",{style:x.infoLabel,children:a})]}),(0,d.jsx)("div",{style:x.infoContent,children:i||"N/A"})]})},x={card:{backgroundColor:"#fff",maxWidth:"1000px",margin:"30px auto",borderRadius:"12px",padding:"30px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},header:{display:"flex",flexDirection:"row",gap:"30px",alignItems:"center",marginBottom:"30px"},companyName:{fontSize:"30px",fontWeight:"700",color:"#005f7f"},category:{fontSize:"18px",color:"#555"},mainImage:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"12px"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px",marginBottom:"30px"},infoBox:{background:"#f9fafb",borderRadius:"10px",padding:"16px",border:"1px solid #e5e7eb"},infoHeader:{display:"flex",alignItems:"center",marginBottom:"10px",fontWeight:"600",fontSize:"16px"},icon:{marginRight:"10px",color:"#005f7f"},infoLabel:{fontSize:"16px"},infoContent:{fontSize:"15px",color:"#374151"},menuContainer:{marginTop:"20px"},subheading:{fontSize:"22px",fontWeight:"600",marginBottom:"16px",color:"#005f7f",textAlign:"center"},menuGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"16px"},menuImageWrapper:{overflow:"hidden",borderRadius:"8px"},menuImage:{width:"100%",height:"auto",borderRadius:"8px",cursor:"pointer"},chatButtonWrapper:{display:"flex",justifyContent:"center",marginTop:"30px"},chatButton:{padding:"12px 24px",backgroundColor:"#005f7f",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},chatModal:{position:"fixed",bottom:"20px",right:"20px",width:"320px",backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",zIndex:2e3},chatHeader:{padding:"12px 16px",backgroundColor:"#005f7f",color:"#fff",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"600"},closeBtn:{background:"none",border:"none",color:"#fff",fontSize:"20px",cursor:"pointer"},chatBody:{padding:"10px",maxHeight:"300px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},messageBubble:{maxWidth:"75%",padding:"10px 14px",borderRadius:"16px",fontSize:"14px"},chatInputArea:{display:"flex",borderTop:"1px solid #ccc"},chatInput:{flex:1,padding:"10px",border:"none",fontSize:"14px",outline:"none"},sendBtn:{padding:"10px 16px",backgroundColor:"#005f7f",color:"#fff",border:"none",cursor:"pointer",fontSize:"14px"},modalOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalImage:{maxWidth:"90%",maxHeight:"90%",borderRadius:"8px"},orderModal:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",width:"90%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"stretch"},modalInput:{marginBottom:"12px",padding:"10px",fontSize:"15px",borderRadius:"6px",border:"1px solid #ccc",outline:"none"},loading:{color:"#005f7f",textAlign:"center",padding:"40px",fontSize:"18px"}},p=()=>{const{id:e}=(0,r.g)(),[n,a]=(0,i.useState)(null),[p,u]=(0,i.useState)(null),[f,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(""),[b,v]=(0,i.useState)([]),[y,j]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[w,S]=(0,i.useState)(""),[I,B]=(0,i.useState)(""),[N,z]=(0,i.useState)(""),[R,M]=(0,i.useState)(""),W=(0,o.xI)().currentUser;(0,i.useEffect)((()=>{(async()=>{const n=(0,t.H9)(s.db,"postorder",e),i=await(0,t.x7)(n);i.exists()&&a({id:i.id,...i.data()})})()}),[e]);const O=async()=>{if(!W||null===n||void 0===n||!n.vendorid)return;j(!0);const e=(0,t.P)((0,t.rJ)(s.db,"webchat"),(0,t._M)("senderId","in",[W.uid,n.vendorid]),(0,t._M)("receiverId","in",[W.uid,n.vendorid])),a=(await(0,t.GG)(e)).docs.map((e=>({id:e.id,...e.data()})));a.sort(((e,n)=>{var a,i;return(null===(a=e.time)||void 0===a?void 0:a.seconds)-(null===(i=n.time)||void 0===i?void 0:i.seconds)})),v(a),j(!1)};if(!n)return(0,d.jsx)("p",{style:x.loading,children:"Loading..."});const H=[...new Set(n.menu||[])];return(0,d.jsxs)("div",{style:{background:"#f1f5f9",minHeight:"100vh",paddingBottom:"40px"},children:[(0,d.jsx)(l.A,{}),(0,d.jsxs)("div",{style:x.card,children:[(0,d.jsxs)("div",{style:x.header,children:[(0,d.jsx)("img",{src:n.image||"/images/default.jpg",alt:n.businessname,style:x.mainImage,onError:e=>e.target.style.display="none"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:x.companyName,children:n.businessname}),(0,d.jsxs)("p",{style:x.category,children:[(0,d.jsx)("strong",{children:"Category:"})," ",n.eventname]})]})]}),(0,d.jsxs)("div",{style:x.infoGrid,children:[(0,d.jsx)(c,{icon:"fa-user",label:"Owner",value:n.name}),(0,d.jsx)(c,{icon:"fa-map-marker-alt",label:"Location",value:n.location}),(0,d.jsx)(c,{icon:"fa-calendar-alt",label:"Posting Date",value:"27-APR-25"}),(0,d.jsx)(c,{icon:"fa-phone",label:"Mobile",value:n.mobilenumber}),(0,d.jsx)(c,{icon:"fa-clock",label:"Working Hours",value:n.hours}),(0,d.jsx)(c,{icon:"fa-briefcase",label:"Experience",value:`${n.exprience} years`})]}),(0,d.jsxs)("div",{style:x.infoBox,children:[(0,d.jsxs)("div",{style:x.infoHeader,children:[(0,d.jsx)("i",{className:"fas fa-align-left",style:x.icon}),(0,d.jsx)("span",{style:x.infoLabel,children:"Description"})]}),(0,d.jsx)("div",{style:x.infoContent,children:(0,d.jsx)("p",{children:n.description})})]}),H.length>0&&(0,d.jsxs)("div",{style:x.menuContainer,children:[(0,d.jsx)("h2",{style:x.subheading,children:"Menu Gallery"}),(0,d.jsx)("div",{style:x.menuGrid,children:H.map(((e,n)=>(0,d.jsx)("div",{style:x.menuImageWrapper,children:(0,d.jsx)("img",{src:e,alt:`Menu ${n+1}`,style:x.menuImage,onClick:()=>u(e),onError:e=>e.target.style.display="none"})},n)))})]}),(0,d.jsxs)("div",{style:x.chatButtonWrapper,children:[(0,d.jsx)("button",{style:x.chatButton,onClick:()=>{m(!0),O()},children:"Chat with Vendor"}),(0,d.jsx)("button",{style:{...x.chatButton,backgroundColor:"#10b981",marginLeft:"10px"},onClick:()=>{C(!0)},children:"Place an Order"})]})]}),f&&(0,d.jsxs)("div",{style:x.chatModal,children:[(0,d.jsxs)("div",{style:x.chatHeader,children:[(0,d.jsxs)("span",{children:["Chat with ",n.businessname]}),(0,d.jsx)("button",{style:x.closeBtn,onClick:()=>m(!1),children:"\xd7"})]}),(0,d.jsx)("div",{style:x.chatBody,children:y?(0,d.jsx)("p",{children:"Loading messages\u2026"}):b.map((e=>(0,d.jsx)("div",{style:{...x.messageBubble,alignSelf:e.senderId===W.uid?"flex-end":"flex-start",backgroundColor:e.senderId===W.uid?"#005f7f":"#e4e6eb",color:e.senderId===W.uid?"#fff":"#000"},children:e.message},e.id)))}),(0,d.jsxs)("div",{style:x.chatInputArea,children:[(0,d.jsx)("input",{style:x.chatInput,value:h,onChange:e=>g(e.target.value),placeholder:"Type a message\u2026"}),(0,d.jsx)("button",{style:x.sendBtn,onClick:async()=>{if(!h.trim()||!W||null===n||void 0===n||!n.vendorid)return;const e={senderId:W.uid,senderName:W.displayName||"Anonymous",receiverId:n.vendorid,receiverName:n.businessname,message:h.trim(),time:(0,t.O5)(),isRead:!1};await(0,t.gS)((0,t.rJ)(s.db,"webchat"),e),g(""),O()},children:"Send"})]})]}),p&&(0,d.jsx)("div",{style:x.modalOverlay,onClick:()=>u(null),children:(0,d.jsx)("img",{src:p,alt:"Menu",style:x.modalImage})}),k&&(0,d.jsx)("div",{style:x.modalOverlay,children:(0,d.jsxs)("div",{style:x.orderModal,children:[(0,d.jsx)("h2",{style:{marginBottom:"16px",color:"#005f7f"},children:"Place Your Order"}),(0,d.jsx)("input",{style:x.modalInput,placeholder:"Your Name",value:w,onChange:e=>S(e.target.value)}),(0,d.jsx)("input",{style:x.modalInput,placeholder:"Mobile Number",value:I,onChange:e=>B(e.target.value)}),(0,d.jsx)("input",{style:x.modalInput,type:"date",value:N,onChange:e=>z(e.target.value)}),(0,d.jsx)("input",{style:x.modalInput,placeholder:"Event Location",value:R,onChange:e=>M(e.target.value)}),(0,d.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"16px"},children:[(0,d.jsx)("button",{style:x.sendBtn,onClick:async()=>{if(!w||!I||!N||!R||!W)return void alert("Please fill all fields.");const e={name:w,mobilenumber:I,placelocation:R,dateofevent:N,status:"pending",userid:W.uid,vendorid:n.vendorid,businessname:n.businessname,eventname:n.eventname,image:n.image,location:n.location,docid:n.id};await(0,t.gS)((0,t.rJ)(s.db,"placeorder"),e),alert("Order placed successfully!"),C(!1),S(""),B(""),z(""),M("")},children:"Submit"}),(0,d.jsx)("button",{style:x.chatButton,onClick:()=>C(!1),children:"Cancel"})]})]})})]})}},999:(e,n,a)=>{a.d(n,{A:()=>c});var i=a(43),r=a(184),t=a(216),s=a(791),o=a(472),l=a(729),d=a(579);const c=()=>{const[e,n]=(0,i.useState)(""),[a,c]=(0,i.useState)([]),[x,p]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),m=(0,t.Zp)(),h=(0,l.xI)().currentUser;(0,i.useEffect)((()=>{(async()=>{if(h)try{const e=(0,o.P)((0,o.rJ)(s.db,"webchat"),(0,o._M)("receiverId","==",h.uid),(0,o.My)("time","desc"));await(0,o.GG)(e)}catch(e){console.error("Error fetching messages:",e)}})()}),[h]);return(0,d.jsxs)("nav",{className:"navbar",children:[(0,d.jsxs)("div",{className:"navbar-main",children:[(0,d.jsx)("div",{className:"nav-left",children:(0,d.jsx)("div",{className:"navbar-logo",onClick:()=>m("/home"),children:"PlanOra"})}),(0,d.jsx)("div",{className:"nav-center",children:(0,d.jsxs)("div",{className:"navbar-search",children:[(0,d.jsx)(r.KSO,{className:"search-icon"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",value:e,onChange:async e=>{const a=e.target.value;if(n(a),a){p(!0);try{const e=(0,o.P)((0,o.rJ)(s.db,"postorder"),(0,o._M)("businessname",">=",a),(0,o._M)("businessname","<=",a+"\uf8ff")),n=await(0,o.GG)(e);c(n.docs.map((e=>({id:e.id,...e.data()}))))}catch(i){console.error("Error fetching companies:",i)}finally{p(!1)}}else c([])}}),e&&(0,d.jsx)("div",{className:"search-results",children:x?(0,d.jsx)("div",{className:"loading",children:"Loading..."}):a.length?a.map((e=>(0,d.jsx)("div",{className:"result-item",onClick:()=>(m(`/company/${e.id}`),n(""),c([]),void f(!1)),children:e.businessname},e.id))):(0,d.jsx)("div",{className:"no-results",children:"No matches found"})})]})}),(0,d.jsx)("div",{className:"nav-right",children:(0,d.jsxs)("ul",{className:"nav-links "+(u?"active":""),children:[(0,d.jsx)("li",{onClick:()=>{m("/home"),f(!1)},children:"Home"}),(0,d.jsx)("li",{onClick:()=>{m("/orders"),f(!1)},children:"Orders"}),(0,d.jsx)("li",{onClick:()=>{m("/post-order"),f(!1)},children:"Post Order"}),(0,d.jsxs)("li",{onClick:()=>{m("/profile"),f(!1)},children:[(0,d.jsx)(r.x$1,{})," Profile"]}),(0,d.jsxs)("li",{onClick:()=>{m("/messages"),f(!1)},children:[(0,d.jsx)(r.maD,{})," Messages"]}),(0,d.jsxs)("li",{onClick:()=>{m("/cart"),f(!1)},children:[(0,d.jsx)(r.AsH,{})," Cart"]})]})}),(0,d.jsx)("div",{className:"hamburger",onClick:()=>f((e=>!e)),children:u?(0,d.jsx)(r.QCr,{}):(0,d.jsx)(r.OXb,{})})]}),(0,d.jsx)("style",{children:`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.75rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.3rem;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .nav-center {\n            order: 3;\n            width: 100%;\n            margin-top: 10px;\n          }\n\n          .nav-right {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .nav-links {\n            display: ${u?"flex":"none"};\n            flex-direction: column;\n            width: 100%;\n            margin-top: 1rem;\n          }\n\n          .hamburger {\n            display: block;\n          }\n        }\n      `})]})}}}]);
//# sourceMappingURL=51.b3b817f8.chunk.js.map