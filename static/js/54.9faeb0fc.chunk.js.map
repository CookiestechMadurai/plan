{"version":3,"file":"static/js/54.9faeb0fc.chunk.js","mappings":"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","sources":["pages/Orders.js","components/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { db } from '../firebase';\r\nimport {\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  updateDoc,\r\n  doc,\r\n} from 'firebase/firestore';\r\nimport Navbar from '../components/Navbar';  // Import the Navbar component\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n\r\n  const fetchOrders = async () => {\r\n    if (!user) return; // Return if no user is logged in\r\n    setLoading(true);\r\n    try {\r\n      // Query to fetch orders, using 'vendorid' as the correct field\r\n      const q = query(\r\n        collection(db, 'placeorder'), // Target the 'placeorder' collection\r\n        where('vendorid', '==', user.uid) // Ensure the vendorid matches the current user's uid\r\n      );\r\n\r\n      // Fetch orders using the query\r\n      const querySnapshot = await getDocs(q);\r\n\r\n      const results = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n\r\n      console.log('Orders fetched:', results);\r\n\r\n      if (results.length === 0) {\r\n        console.log(\"No orders found.\");\r\n      }\r\n\r\n      setOrders(results);\r\n    } catch (err) {\r\n      console.error('Error fetching orders:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateStatus = async (orderId, status) => {\r\n    try {\r\n      const orderRef = doc(db, 'placeorder', orderId);\r\n      await updateDoc(orderRef, { status });\r\n      setOrders((prev) =>\r\n        prev.map((order) =>\r\n          order.id === orderId ? { ...order, status } : order\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(`Failed to update order status to ${status}:`, err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, [user]);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <Navbar />  {/* Add the Navbar here */}\r\n      <h2 style={styles.header}>Received Orders</h2>\r\n      {loading ? (\r\n        <p>Loading orders...</p>\r\n      ) : orders.length === 0 ? (\r\n        <p>No orders received.</p>\r\n      ) : (\r\n        <div style={styles.ordersList}>\r\n          {orders.map((order) => (\r\n            <div key={order.id} style={styles.orderCard}>\r\n              <p><strong>Name:</strong> {order.name}</p>\r\n              <p><strong>Mobile Number:</strong> {order.mobilenumber}</p>\r\n              <p><strong>Location:</strong> {order.location}</p>\r\n              <p><strong>Date of Event:</strong> {order.dateofevent}</p> {/* Displaying date of event */}\r\n              <p><strong>Status:</strong> {order.status || 'Pending'}</p>\r\n              <div style={styles.buttonGroup}>\r\n                <button\r\n                  style={{ ...styles.button, backgroundColor: '#4caf50' }}\r\n                  onClick={() => handleUpdateStatus(order.id, 'Accepted')}\r\n                  disabled={order.status === 'Accepted'}\r\n                >\r\n                  Accept\r\n                </button>\r\n                <button\r\n                  style={{ ...styles.button, backgroundColor: '#f44336' }}\r\n                  onClick={() => handleUpdateStatus(order.id, 'Rejected')}\r\n                  disabled={order.status === 'Rejected'}\r\n                >\r\n                  Reject\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Inline CSS styles\r\nconst styles = {\r\n  container: {\r\n    padding: '1rem',\r\n    margin: '0 auto',\r\n  },\r\n  header: {\r\n    fontSize: '1.8rem',\r\n    marginBottom: '1rem',\r\n    color: '#003f66',\r\n  },\r\n  ordersList: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '1rem',\r\n  },\r\n  orderCard: {\r\n    padding: '1rem',\r\n    backgroundColor: '#f1f1f1',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 2px 6px rgba(0,0,0,0.1)',\r\n  },\r\n  buttonGroup: {\r\n    display: 'flex',\r\n    gap: '0.5rem',\r\n    marginTop: '0.75rem',\r\n  },\r\n  button: {\r\n    padding: '0.5rem 1rem',\r\n    border: 'none',\r\n    color: '#fff',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport {\n  FaBars,\n  FaTimes,\n  FaSearch,\n  FaShoppingCart,\n  FaUser,\n  FaEnvelope,\n  FaRobot // AI icon\n} from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nconst categoriesList = [\n  'Photography', 'Food', 'Music', 'Catering', 'Venue', 'Return Gift',\n  'Travel', 'DJ', 'Cakes & Bakery', 'Decoration', 'Orchestra',\n  'Wedding', 'Beautician', 'Other'\n];\n\nconst Navbar = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [aiBoxOpen, setAiBoxOpen] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n\n  useEffect(() => {\n    if (aiBoxOpen && chatMessages.length === 0) {\n      setChatMessages([{ sender: 'claura', text: 'Hi, welcome this is ms.Claura your ai assistant. Say hi to begin' }]);\n      setChatStep('initial');\n    }\n  }, [aiBoxOpen]);\n  const [userInput, setUserInput] = useState('');\n  const [chatStep, setChatStep] = useState('initial'); // initial, waitingForHi, eventName, categories, budget, results\n  const [eventName, setEventName] = useState('');\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [budget, setBudget] = useState('');\n  const chatEndRef = useRef(null);\n  const navigate = useNavigate();\n  const auth = getAuth();\n  const user = auth.currentUser;\n\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [chatMessages]);\n\n  const addMessage = (sender, text) => {\n    setChatMessages(prev => [...prev, { sender, text }]);\n  };\n\n  const handleUserInputChange = (e) => {\n    setUserInput(e.target.value);\n  };\n\n  const delay = ms => new Promise(res => setTimeout(res, ms));\n\n  const handleUserInputSubmit = async (e) => {\n    e.preventDefault();\n    const input = userInput.trim();\n    if (!input) return;\n\n    addMessage('user', input);\n    setUserInput('');\n\n    if (chatStep === 'initial') {\n      if (input.toLowerCase().startsWith('hi')) {\n        setTimeout(() => {\n          addMessage('claura', 'What is your event name?');\n          setChatStep('eventName');\n        }, 1000);\n      } else {\n        addMessage('claura', 'Please say \"hi\" to continue.');\n      }\n      return;\n    }\n\n    if (chatStep === 'eventName') {\n      setEventName(input);\n      await delay(3000);\n      addMessage('claura', `Thanks! Your event name is \"${input}\". What categories do you need? Please select from below.`);\n      setChatStep('categories');\n    } else if (chatStep === 'budget') {\n      if (isNaN(Number(input)) || Number(input) <= 0) {\n        addMessage('claura', 'Please enter a valid positive number for budget.');\n        return;\n      }\n      setBudget(input);\n      addMessage('claura', `Great! Searching companies under budget ${input}...`);\n      setChatStep('results');\n      await fetchCompanies(input, selectedCategories);\n    }\n  };\n\n  const handleCategorySelect = (category) => {\n    let newSelected;\n    if (selectedCategories.includes(category)) {\n      newSelected = selectedCategories.filter(c => c !== category);\n    } else {\n      newSelected = [...selectedCategories, category];\n    }\n    setSelectedCategories(newSelected);\n  };\n\n  const handleCategoriesConfirm = () => {\n    if (selectedCategories.length === 0) {\n      addMessage('claura', 'Please select at least one category.');\n      return;\n    }\n    addMessage('user', `Selected categories: ${selectedCategories.join(', ')}`);\n    addMessage('claura', 'What is your budget? Please enter a number.');\n    setChatStep('budget');\n  };\n\n  const fetchCompanies = async (budgetLimit, categories) => {\n    setLoading(true);\n    try {\n      let q;\n      if (categories.length > 0) {\n        q = query(\n          collection(db, 'postorder'),\n          where('eventname', 'in', categories)\n        );\n      } else {\n        q = query(collection(db, 'postorder'));\n      }\n      const snap = await getDocs(q);\n      let companiesList = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      companiesList = companiesList.filter(c => c.minprice <= Number(budgetLimit));\n      if (companiesList.length === 0) {\n        addMessage('claura', 'No companies found under your budget and selected categories.');\n      } else {\n        addMessage('claura', 'Here are the companies under your budget:');\n        companiesList.forEach(c => {\n          addMessage('claura', `${c.businessname} - Minimum Price: ${c.minprice}`);\n        });\n      }\n    } catch (err) {\n      console.error('Error fetching companies:', err);\n      addMessage('claura', 'Sorry, there was an error fetching companies.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = async (e) => {\n    const qText = e.target.value;\n    setSearchQuery(qText);\n\n    if (!qText) {\n      setCompanies([]);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const q = query(\n        collection(db, 'postorder'),\n        where('businessname', '>=', qText),\n        where('businessname', '<=', qText + '\\uf8ff')\n      );\n      const snap = await getDocs(q);\n      setCompanies(snap.docs.map(doc => ({ id: doc.id, ...doc.data() })));\n    } catch (err) {\n      console.error('Error fetching companies:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelect = (company) => {\n    if (!user) {\n      navigate('/login');\n      setMenuOpen(false);\n      return;\n    }\n    navigate(`/company/${company.id}`);\n    setSearchQuery('');\n    setCompanies([]);\n    setMenuOpen(false);\n  };\n\n  const handleNavClick = (path) => {\n    if (!user) {\n      navigate('/login');\n      setMenuOpen(false);\n      return;\n    }\n    navigate(path);\n    setMenuOpen(false);\n  };\n\n  const handleAiButtonClick = () => {\n    setAiBoxOpen(prev => !prev);\n    if (!aiBoxOpen) {\n      // Reset chat on open\n      setChatMessages([]);\n      setChatStep('initial');\n      setEventName('');\n      setSelectedCategories([]);\n      setBudget('');\n      setUserInput('');\n    }\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-main\">\n        <div className=\"nav-left\">\n          <div className=\"navbar-logo\" onClick={() => navigate('/home')}>Planora</div>\n        </div>\n\n        <div className=\"nav-center\">\n          <div className=\"navbar-search\">\n            <FaSearch className=\"search-icon\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={searchQuery}\n              onChange={handleSearch}\n            />\n            {searchQuery && (\n              <div className=\"search-results\">\n                {loading ? (\n                  <div className=\"loading\">Loading...</div>\n                ) : companies.length ? (\n                  companies.map((c) => (\n                    <div\n                      key={c.id}\n                      className=\"result-item\"\n                      onClick={() => handleSelect(c)}\n                    >\n                      {c.businessname}\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-results\">No matches found</div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"nav-right\">\n          <ul className={`nav-links ${menuOpen ? 'active' : ''}`}>\n            <li onClick={() => handleNavClick('/home')}>Home</li>\n            <li onClick={() => handleNavClick('/orders')}>Orders</li>\n            <li onClick={() => handleNavClick('/post-order')}>Post Order</li>\n            <li onClick={handleAiButtonClick}><FaRobot /> AI</li>\n            <li onClick={() => handleNavClick('/profile')}><FaUser /> Profile</li>\n            <li onClick={() => handleNavClick('/messages')}><FaEnvelope /> Messages</li>\n            <li onClick={() => handleNavClick('/cart')}><FaShoppingCart /> Cart</li>\n          </ul>\n        </div>\n\n        <div className=\"hamburger\" onClick={() => setMenuOpen(prev => !prev)}>\n          {menuOpen ? <FaTimes /> : <FaBars />}\n        </div>\n      </div>\n\n      {aiBoxOpen && (\n        <div className=\"ai-chat-box\">\n          <div className=\"chat-messages\">\n            {chatMessages.map((msg, index) => (\n              <div\n                key={index}\n                className={`chat-message ${msg.sender === 'claura' ? 'claura' : 'user'}`}\n              >\n                {msg.text}\n              </div>\n            ))}\n            <div ref={chatEndRef} />\n          </div>\n          {chatStep === 'categories' ? (\n            <div className=\"categories-buttons\">\n              {categoriesList.map(category => (\n                <button\n                  key={category}\n                  className={selectedCategories.includes(category) ? 'category-btn selected' : 'category-btn'}\n                  onClick={() => handleCategorySelect(category)}\n                >\n                  {category}\n                </button>\n              ))}\n              <button className=\"confirm-btn\" onClick={handleCategoriesConfirm}>Confirm</button>\n            </div>\n          ) : (\n            <>\n              {chatStep === 'budget' ? (\n                <div className=\"budget-slider-container\">\n                <input\n                  type=\"range\"\n                  min=\"500\"\n                  max=\"1000000\"\n                  step=\"100\"\n                  value={budget || 500}\n                  onChange={(e) => setBudget(Number(e.target.value))}\n                />\n                <input\n                  type=\"number\"\n                  min=\"500\"\n                  max=\"1000000\"\n                  step=\"100\"\n                  value={budget || 500}\n                  onChange={(e) => {\n                    let val = Number(e.target.value);\n                    if (val < 500) val = 500;\n                    else if (val > 1000000) val = 1000000;\n                    setBudget(val);\n                  }}\n                  style={{ marginTop: '10px', padding: '5px', borderRadius: '5px', border: 'none', fontSize: '1rem' }}\n                />\n                <div className=\"budget-value\">Selected Budget: {budget || 500}</div>\n                <button className=\"confirm-btn\" onClick={() => {\n                  if (!budget || isNaN(Number(budget)) || Number(budget) < 500) {\n                    addMessage('claura', 'Please select a budget between 500 and 1,000,000.');\n                    return;\n                  }\n                  addMessage('user', `Selected budget: ${budget}`);\n                  addMessage('claura', `Great! Searching companies under budget ${budget}...`);\n                  setChatStep('results');\n                  fetchCompanies(budget, selectedCategories);\n                }}>Confirm</button>\n              </div>\n              ) : (\n                <form className=\"chat-input-form\" onSubmit={handleUserInputSubmit}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Type your message...\"\n                    value={userInput}\n                    onChange={handleUserInputChange}\n                    autoFocus\n                    disabled={chatStep === 'categories' || chatStep === 'results'}\n                  />\n                  <button type=\"submit\" disabled={chatStep === 'categories' || chatStep === 'results'}>Send</button>\n                </form>\n              )}\n            </>\n          )}\n        </div>\n      )}\n\n      <style>{`\n        * {\n          box-sizing: border-box;\n          margin: 0;\n          padding: 0;\n        }\n        .navbar {\n          background: #003f66;\n          color: #fff;\n          padding: 0.5rem 1rem;\n          position: sticky;\n          top: 0;\n          z-index: 1000;\n        }\n        .navbar-main {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .nav-left {\n          flex: 1;\n        }\n\n        .nav-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n        }\n\n        .nav-right {\n          flex: 2;\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .navbar-logo {\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .navbar-search {\n          position: relative;\n          width: 100%;\n          max-width: 400px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          padding: 0.3rem 0.65rem;\n        }\n\n        .navbar-search input {\n          flex: 1;\n          background: transparent;\n          border: none;\n          color: #fff;\n          margin-left: 0.5rem;\n          font-size: 0.9rem;\n          outline: none;\n        }\n\n        .search-icon {\n          color: #ddd;\n        }\n\n        .search-results {\n          position: absolute;\n          top: 110%;\n          left: 0;\n          width: 100%;\n          background: #fff;\n          color: #333;\n          border-radius: 0 0 10px 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          max-height: 200px;\n          overflow-y: auto;\n          z-index: 1001;\n        }\n\n        .result-item, .loading, .no-results {\n          padding: 0.5rem;\n          border-bottom: 1px solid #eee;\n          cursor: pointer;\n        }\n\n        .result-item:hover {\n          background: #f0f0f0;\n        }\n\n        .hamburger {\n          display: none;\n          font-size: 1.5rem;\n          color: #fff;\n          cursor: pointer;\n        }\n\n        .nav-links {\n          list-style: none;\n          display: flex;\n          gap: 1.9rem;\n          align-items: center;\n        }\n\n        .nav-links li {\n          cursor: pointer;\n          padding: 0.5rem;\n          border-radius: 6px;\n          transition: background 0.2s;\n          display: flex;\n          align-items: center;\n          gap: 0.2rem;\n          white-space: nowrap;\n        }\n\n        .nav-links li:hover {\n          background: rgba(255, 255, 255, 0.2);\n        }\n\n        .ai-chat-box {\n          position: absolute;\n          top: 60px;\n          right: 10px;\n          width: 400px;\n          max-height: 600px;\n          background: #ffffff; /* Changed to white background */\n          color: #333333; /* Dark text for contrast */\n          border-radius: 12px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          z-index: 1100;\n          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        .chat-messages {\n          flex: 1;\n          padding: 1rem;\n          overflow-y: auto;\n          background: #ffffff; /* white background for chat messages */\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .chat-message {\n          max-width: 80%;\n          padding: 12px 20px;\n          border-radius: 20px;\n          font-size: 1rem;\n          line-height: 1.4;\n          word-wrap: break-word;\n          white-space: pre-wrap;\n        }\n\n        .chat-message.claura {\n          background: #0078d7; /* bright blue for AI messages */\n          color: #fff;\n          align-self: flex-start;\n          border-bottom-left-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.2);\n        }\n\n        .chat-message.user {\n          background: #e1e1e1; /* light gray for user messages */\n          color: #333333;\n          align-self: flex-end;\n          border-bottom-right-radius: 0;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n\n        .chat-input-form {\n          display: flex;\n          padding: 10px;\n          background: #f5f5f5; /* light background for input area */\n          border-top: 1px solid #ddd;\n        }\n\n        .chat-input-form input {\n          flex: 1;\n          border: none;\n          border-radius: 10px;\n          padding: 10px 15px;\n          font-size: 1rem;\n          background: #fff;\n          color: #333;\n          outline: none;\n        }\n\n        .chat-input-form input::placeholder {\n          color: #999;\n        }\n\n        .chat-input-form button {\n          background: #0078d7;\n          border: none;\n          color: white;\n          padding: 0 20px;\n          margin-left: 10px;\n          border-radius: 10px;\n          cursor: pointer;\n          font-size: 1rem;\n          transition: background 0.3s;\n        }\n\n        .chat-input-form button:hover {\n          background: #005a99;\n        }\n\n        .categories-buttons {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n        }\n\n        .category-btn {\n          background: #303136;\n          color: #fff;\n          border: none;\n          padding: 8px 12px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: background 0.3s;\n        }\n\n        .category-btn.selected {\n          background: #10a37f;\n        }\n\n        .category-btn:hover {\n          background: #50535a;\n        }\n\n        .confirm-btn {\n          background: #10a37f;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          margin-left: auto;\n          transition: background 0.3s;\n        }\n\n        .confirm-btn:hover {\n          background: #0e8e6e;\n        }\n\n        @media (max-width: 768px) {\n          .ai-chat-box {\n            width: 90%;\n            right: 5%;\n            bottom: 10px;\n            max-height: 400px;\n          }\n        }\n        .budget-slider-container {\n          display: flex;\n          flex-direction: column;\n          padding: 10px;\n          background: #40414f;\n          border-top: 1px solid #52525b;\n          border-radius: 0 0 15px 15px;\n          gap: 10px;\n        }\n        .budget-slider-container input[type=\"range\"] {\n          width: 100%;\n          -webkit-appearance: none;\n          height: 8px;\n          border-radius: 5px;\n          background: #303136;\n          outline: none;\n          cursor: pointer;\n        }\n        .budget-slider-container input[type=\"range\"]::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n          margin-top: -6px;\n        }\n        .budget-slider-container input[type=\"range\"]::-moz-range-thumb {\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #10a37f;\n          cursor: pointer;\n          border: none;\n        }\n        .budget-value {\n          color: #fff;\n          font-size: 1rem;\n          text-align: center;\n        }\n      `}</style>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"names":["styles","container","padding","margin","header","fontSize","marginBottom","color","ordersList","display","flexDirection","gap","orderCard","backgroundColor","borderRadius","boxShadow","buttonGroup","marginTop","button","border","cursor","Orders","orders","setOrders","useState","loading","setLoading","user","getAuth","currentUser","handleUpdateStatus","async","orderId","status","orderRef","doc","db","updateDoc","prev","map","order","id","err","console","error","useEffect","q","query","collection","where","uid","results","getDocs","docs","data","log","length","fetchOrders","_jsxs","style","children","_jsx","Navbar","name","mobilenumber","location","dateofevent","onClick","disabled","categoriesList","searchQuery","setSearchQuery","companies","setCompanies","menuOpen","setMenuOpen","aiBoxOpen","setAiBoxOpen","chatMessages","setChatMessages","sender","text","setChatStep","userInput","setUserInput","chatStep","eventName","setEventName","selectedCategories","setSelectedCategories","budget","setBudget","chatEndRef","useRef","navigate","useNavigate","current","scrollIntoView","behavior","addMessage","fetchCompanies","budgetLimit","categories","companiesList","filter","c","minprice","Number","forEach","businessname","handleNavClick","path","className","FaSearch","type","placeholder","value","onChange","qText","e","target","snap","company","handleSelect","handleAiButtonClick","FaRobot","FaUser","FaEnvelope","FaShoppingCart","FaTimes","FaBars","msg","index","ref","category","includes","newSelected","handleCategorySelect","handleCategoriesConfirm","join","_Fragment","min","max","step","val","isNaN","onSubmit","preventDefault","input","trim","ms","Promise","res","setTimeout","toLowerCase","startsWith","autoFocus"],"sourceRoot":""}